Conclusa la presentazione delle scelte adottate in fase di impostazione delle sperimentazioni, 
si procede in questo capitolo con l'esposizione dei risultati ottenuti. 

Per effettuare la risoluzione delle diverse istanze, è stato utilizzato un cluster messo a disposizione dal Dipartimeto di Ingegneria dell'Informazione 
dell'università. Nello specifico, la macchina in questione presenta le seguenti specifiche tecniche:
\begin{itemize}
\item Intel(R) Xeon(R) CPU E5-2623 v3 @ 3.00GHz quad-core
\item 16GB RAM
\item Linux Fedora 37
\item Python 3.10.6
\item IBM ILOG CPLEX Optimization Studio versione 22.1
\end{itemize}
Per garantire la compatibilità tra l'ultima versione del software CPLEX installata (22.1) e quella di Python, è stato fatto uso di \textit{pyenv} \cite{pyenv}, 
un'utility per Linux e MacOS che permette di tenere all'interno dello stesso sistema operativo differenti versioni dell'interprete Python. In questo modo 
è stato possibile utilizzare la versione Python richiesta da CPLEX (3.10) e non quella predefita del cluster (3.11).

Inoltre, sono state installate localmente tutte le librerie che vengono utilizzate all'interno dei vari script, che si ricordano 
essere: \textit{Numpy}, \textit{Pyomo}, \textit{Matplotlib} e \textit{Seaborn}.

\newpage
\section{Tempi medi di risoluzione}
I tempi medi, estrapolati e memorizzati come illustrato nelle sezioni precedenti, sono riportati nelle seguenti tabelle indicizzate sulla dimensione delle istanze 
e sui valori di densità di grigio utilizzati.per generare quest'ultime.

I tempi sono riportati nel formato \textit{hh:mm:ss.00}, dove \textit{hh} indica il numero di ore impiegate, \textit{mm} i minuti e \textit{ss.00} i secondi arrotondati 
alla seconda cifra dopo la virgola. \\

\begin{tabular}{cc c|c|c|c l}
    \centering
    & & \multicolumn{3}{ c }{Dimensione dell'istanza \textit{n}} \\ \cline{3-5}
    & & \multicolumn{1}{ |c| }{9 (3x3)} & 16 (4x4) & 25 (5x5) & \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{8}{*}{Densità di} } &
    \multicolumn{1}{ |c| }{10\%} & 00:00:00.17 & 00:00:00.12 & 00:00:00.28 &   \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{20\%} & 00:00:00.14 & 00:00:00.10 & 00:00:00.27 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{30\%} & 00:00:00.05 & 00:00:00.12 & 00:00:00.34 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{40\%} & 00:00:00.04 & 00:00:00.21 & 00:00:01.59 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{1}{*}{grigio \textit{d}}}                        &
    \multicolumn{1}{ |c| }{50\%} & 00:00:00.04 & 00:00:00.23 & 00:00:02.59 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{60\%} & 00:00:00.06 & 00:00:00.22 & 00:00:02.46 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{70\%} & 00:00:00.05 & 00:00:00.13 & 00:00:00.68 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{80\%} & 00:00:00.05 & 00:00:00.12 & 00:00:00.48 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{90\%} & 00:00:00.03 & 00:00:00.13 & 00:00:00.32 &    \\ \cline{2-5}
    \medskip
\end{tabular}

\begin{tabular}{cc c|c|c|c l}
    & & \multicolumn{3}{ c }{Dimensione dell'istanza \textit{n}} \\ \cline{3-5}
    & & \multicolumn{1}{ |c| }{36 (6x6)} & 42 (7x6) & 45 (9x5) & \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{8}{*}{Densità di} } &
    \multicolumn{1}{ |c| }{10\%} & 00:00:00.59 & 00:00:00.84 & 00:00:01.08 &   \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{20\%} & 00:00:00.85 & 00:00:05.03 & 00:00:12.99 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{30\%} & 00:00:13.00 & 00:04:56.35 & 00:15:13.03 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{40\%} & 00:01:06.86 & 00:26:51.01 & 01:21:36.74 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{1}{*}{grigio \textit{d}}}                        &
    \multicolumn{1}{ |c| }{50\%} & 00:00:18.40 & 00:06:13.01 & 00:49:02.35 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{60\%} & 00:01:37.72 & 00:36:49.48 & 01:51:47.95 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{70\%} & 00:01:10.83 & 00:27:21.45 & 01:37:33.22 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{80\%} & 00:00:06.37 & 00:00:36.44 & 00:02:38.68 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{90\%} & 00:00:00.77 & 00:00:01.30 & 00:00:05.66 &    \\ \cline{2-5}
\end{tabular}

\newpage \noindent
Tramite uno script \textit{Python} che fa uso di alcuni comandi delle librerie \textit{NumPy} e \textit{Matplotlib}, questi dati 
sono stati utilizzati per creare un grafico 3D ed uno 2D. Tali grafici sono stati realizzati per permettere di comprendere al meglio i risultati 
degli esperimenti ottenuti e di notare facilmente qual'è l'andamento del tempo di risoluzione delle istanze rispetto ai valori assunti dai 
parametri di generazione \textit{n} e \textit{d}.
\begin{figure}[h!]
    \centering
    \includegraphics[scale=0.9]{images/resolution_times.eps}
    \caption{Grafico 3D dei tempi di risoluzione delle istanze Tai*c testate}
    \label{fig:times}
\end{figure}
\begin{figure}[h!]
    \centering
    \includegraphics[scale=0.59]{images/resolution_times2.eps}
    \caption{Grafico 2D dei tempi di risoluzione delle istanze Tai*c testate}
    \label{fig:times2}
\end{figure}

Come si evince dai grafici, il comportamento assunto dei tempi di risoluzione rispetto alla dimensione dell'istanza è generalmente 
esponenziale, indipendentemente dal valore di densità di grigio considerato. Ciò che muta da una curva dei tempi rispetto all'altra è la 
velocità con cui i valori divergono. Nello specifico si nota come la crescita dei tempi per le densità intermedie $40\%$, $60\%$ e $70\%$ 
è maggiore rispetto a quella per $d=50\%$, che a sua volta è notevolmente maggiore rispetto a quella per le densità $10\%$ e $90\%$.

È possibile dunque affermare che a parità di dimensione \textit{n}, le istanze Tai*c che richiedono un maggior tempo 
di risoluzione sono quelle generate da un valore di densità di grigio \textit{d} prossimo, ma non corrispondente, al $50\%$, mentre quelle 
che ne richiedono meno sono quelle generate da valori di \textit{d} prossimi allo $0\%$ o al $100\%$.

Questo risultato corrisponde con quello ipotizzabile limitandosi ad osservare la teoria. Infatti, per densità prossime allo $0\%$ il numero 
di unità da assegnare alle posizioni è ridotto ed invece per densità prossime al $100\%$, il numero di posizioni in cui non deve essere asseganta un'unità 
è esiguo. Per questo motivo si suppone che in ambo i casi il costo computazionale richiesto per trovare la soluzione ottima sia ridotto. 
Diversamente accade per densità vicine al $50\%$, valore per il quale il numero di posizioni essegnate ad un'unità è simile a quello delle 
posizioni libere. È pertanto comprensibile che si abbia il picco di complessità per tali valori.

La dimensione $45\,(9\times 5)$ è stata l'ultima per la quale è stato possibile ricavare, al \textit{time limit} di due ore, un tempo di risoluzione medio per 
ogni valore di densità di grigio. Difatti, per le istanze di dimensione $49\,(7\times 7)$ sono stati ottenuti i seguenti dati:

\begin{tabular}{cc c|c|c|c|c| l}
    & & \multicolumn{5}{ c }{Densità di grigio \textit{d}} \\ \cline{3-7}
    & & \multicolumn{1}{ |c| }{10\%} & 20\% & 30\% & 40\% & 50\% &  \\ \cline{2-7}
    \multicolumn{1}{  c  }{\multirow{1}{*}{\textit{n}}}  &
    \multicolumn{1}{ |c| }{49(7x7)} & 00:00:01.19 & 00:00:43.57 & 00:51:50.19 & 12.04\% & 1.17\% \\ \cline{2-7}
\end{tabular}

\begin{tabular}{cc c|c|c|c| l}
    & & \multicolumn{4}{ c }{Densità di grigio \textit{d}} \\ \cline{3-6}
    & & \multicolumn{1}{ |c| }{60\%} & 70\% & 80\% & 90\% & \\ \cline{2-6}
    \multicolumn{1}{  c  }{\multirow{1}{*}{\textit{n}}}  &
    \multicolumn{1}{ |c| }{49(7x7)} & 6.39\% & 3.02\% & 00:17:24.36 & 00:00:08.39 \\ \cline{2-6}
    \medskip
\end{tabular}

In queste tabelle compaiono dati di tipologia diversa. Dato un valore di densità \textit{d}, se nella relativa cella compare un tempo, esso corrisponde al tempo medio di risoluzione per \textit{d}, mentre se 
compare una percentuale significa che per quel \textit{d} non è stato possibile calcolare il tempo cercato e pertanto il dato corrisponde all'\textit{optimality gap} al \textit{time limit}.


\newpage
\section{Soluzioni trovate}
Come anticipato alla fine del capitolo precedente, è stato realizzato un programma per visualizzare le soluzioni ottime alle istanze trovate. 
I grafici realizzati fanno riferimento alla griglia di generazione dei parametri di distanza. In essi ogni casella rappresenta una posizione e per ognuna di esse 
è stato indicato il relativo indice ed è stato assegnato un colore: nero se vi è stata posizionata un'unità, bianco altrimenti.

\noindent
Vengono qui di seguito riportati i grafici relativi ad alcune delle soluzioni trovate. \\ \\

\begin{figure}[h!]
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai9c_3x3_20.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai9c_3x3_40.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai9c_3x3_60.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai9c a densità 20\%, 40\% e 60\%}
     \vspace*{1.5cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai16c_4x4_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai16c_4x4_50.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai16c_4x4_80.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai16c a densità 30\%, 50\% e 80\%}
     \vspace*{1.5cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai25c_5x5_10.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai25c_5x5_40.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai25c_5x5_90.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai25c a densità 10\%, 40\% e 90\%}
\end{figure}

\newpage
\begin{figure}[h!]
    \vspace*{1cm}
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai36c_6x6_20.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai36c_6x6_40.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai36c_6x6_70.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai36c a densità 20\%, 40\% e 70\%}
     \vspace*{1cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai42c_7x6_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai42c_7x6_60.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai42c_7x6_80.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai42c a densità 30\%, 60\% e 80\%}
     \vspace*{1cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai45c_9x5_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai45c_9x5_50.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai45c_9x5_70.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai45c a densità 30\%, 50\% e 70\%}
     \vspace*{1cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai49c_7x7_10.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai49c_7x7_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai49c_7x7_80.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai49c a densità 10\%, 30\% e 80\%}
\end{figure}


\newpage \noindent
I grafici ottenuti rispettano la teoria esposta nelle sezione relativa alle istanze Tai*c. Infatti, in ogni griglia le caselle 
nere sono uniformemente distribuite. Questo ci permette allora di testare la validità del metodo di generazione di tonalità di 
grigio alle densità desiderata. È possibile effettuare ciò accostando molte delle griglie associate alla stessa soluzione di istanza tra di loro, 
ottenendo una griglia molto più grande e fitta. Chiaramente, maggiore é il numero di griglie utilizzate, migliore è la definizione 
della immagine grigia risultante.
\begin{figure}[h!]
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.7\textwidth}
            \includegraphics[width=\columnwidth]{images/gray_42_20.png}
            \caption{a sinistra la griglia relativa ad una soluzione ottima di un'istanza \textit{Tai42c} a densità $d=20\%$, 
                \newline a destra quella ottenuta accostando $1600$ griglie del tipo a sinistra}
        \end{subfigure}
    \end{subfigure}
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.7\textwidth}
            \includegraphics[width=\columnwidth]{images/gray_36_40.png}
            \caption{a sinistra la griglia relativa ad una soluzione ottima di un'istanza \textit{Tai36c} a densità $d=40\%$, 
                \newline a destra quella ottenuta accostando $1600$ griglie del tipo a sinistra}
        \end{subfigure}
    \end{subfigure}
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.7\textwidth}
            \includegraphics[width=\columnwidth]{images/gray_25_80.png}
            \caption{a sinistra la griglia relativa ad una soluzione ottima di un'istanza \textit{Tai25c} a densità $d=80\%$, 
                \newline a destra quella ottenuta accostando $1600$ griglie del tipo a sinistra}
        \end{subfigure}
    \end{subfigure}
\end{figure}

\noindent
Come si può osservare, le tonalità di grigio desiderate vengono generate correttamente.