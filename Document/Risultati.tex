Conclusa la presentazione delle scelte adottate in fase di impostazione delle sperimentazioni, 
si procede in questo capitolo con l'esposizione dei risultati ottenuti. 

Per effettuare la risoluzione delle diverse istanze, è stato utilizzato un cluster messo a disposizione dal Dipartimeto di Ingegneria dell'Informazione 
dell'università. Nello specifico, la macchina in questione presenta le seguenti specifiche tecniche:
\begin{itemize}
\item Intel(R) Xeon(R) CPU E5-2623 v3 @ 3.00GHz quad-core
\item 16GB RAM
\item Linux Fedora 37
\item Python 3.10.6
\item IBM ILOG CPLEX Optimization Studio versione 22.1
\end{itemize}
Per garantire la compatibilità tra l'ultima versione del software CPLEX installata (22.1) e quella di Python, è stato fatto uso di \textit{pyenv} \cite{pyenv}, 
un'utility per Linux e MacOS che permette di tenere all'interno dello stesso sistema operativo differenti versioni dell'interprete Python. In questo modo 
è stato possibile utilizzare la versione Python richiesta da CPLEX (3.10) e non quella predefita del cluster (3.11).

Inoltre, sono state installate localmente tutte le librerie che vengono utilizzate all'interno dei vari script, che si ricordano 
essere: \textit{Numpy}, \textit{Pyomo}, \textit{Matplotlib} e \textit{Seaborn}.

\newpage
\section{Tempi medi di risoluzione}
I tempi medi, estrapolati e memorizzati come illustrato precedentemente, sono riportati nelle seguenti tabelle indicizzate sulla dimensione delle istanze 
e sui valori di densità di grigio utilizzati per generare quest'ultime.

L'unità di misura scelta per riportare i tempi è quella del secondo (\textit{s}). Inoltre, per facilitare la comprensione dei dati, questi 
sono stati arrotondati alla prima cifra decimale.
\\

\begin{tabular}{cc c|c|c|c l}
    \centering
    & & \multicolumn{3}{ c }{Dimensione dell'istanza \textit{n}} \\ \cline{3-5}
    & & \multicolumn{1}{ |c| }{9 (3x3)} & 16 (4x4) & 25 (5x5) & \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{8}{*}{Densità di} } &
    \multicolumn{1}{ |c| }{10\%} & \hphantom{mm}0.2\hphantom{mm} & \hphantom{mm}0.1\hphantom{mm} & \hphantom{mm}0.3\hphantom{mm} &   \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                       &
    \multicolumn{1}{ |c| }{20\%} & 0.1 & 0.1 & 0.3 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                       &
    \multicolumn{1}{ |c| }{30\%} & 0.1 & 0.1 & 0.3 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                       &
    \multicolumn{1}{ |c| }{40\%} & 0.1 & 0.2 & 1.6 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{1}{*}{grigio \textit{d}}} &
    \multicolumn{1}{ |c| }{50\%} & 0.1 & 0.2 & 2.6 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                       &
    \multicolumn{1}{ |c| }{60\%} & 0.1 & 0.2 & 2.5 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                       &
    \multicolumn{1}{ |c| }{70\%} & 0.1 & 0.1 & 0.7 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                       &
    \multicolumn{1}{ |c| }{80\%} & 0.1 & 0.1 & 0.5 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                       &
    \multicolumn{1}{ |c| }{90\%} & 0.1 & 0.1 & 0.3 &    \\ \cline{2-5}
    \medskip
\end{tabular}

\begin{tabular}{cc c|c|c|c l}
    & & \multicolumn{3}{ c }{Dimensione dell'istanza \textit{n}} \\ \cline{3-5}
    & & \multicolumn{1}{ |c| }{36 (6x6)} & 42 (7x6) & 45 (9x5) & \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{8}{*}{Densità di} } &
    \multicolumn{1}{ |c| }{10\%} & \hphantom{mm}0.6\hphantom{mm} & \hphantom{mm}0.8\hphantom{mm} & \hphantom{mm}1.1\hphantom{mm} &   \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{20\%} & 0.9 & 5.0 & 13.0 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{30\%} & 13.0 & 296.4 & 913.0 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{40\%} & 66.9 & 1611.0 & 4896.7 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{\multirow{1}{*}{grigio \textit{d}}}                        &
    \multicolumn{1}{ |c| }{50\%} & 18.4 & 373.0 & 2942.4 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{60\%} & 97.7 & 2209.5 & 6708.0 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{70\%} & 70.8 & 1641.5 & 5853.2 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{80\%} & 6.4 & 36.4 & 158.7 &    \\ \cline{2-5}
    \multicolumn{1}{  c  }{}                        &
    \multicolumn{1}{ |c| }{90\%} & 0.8 & 1.3 & 5.7 &    \\ \cline{2-5}
\end{tabular}

\newpage \noindent
Tramite uno script \textit{Python} che fa uso di alcuni comandi delle librerie \textit{NumPy} e \textit{Matplotlib}, questi dati 
sono stati utilizzati per creare un grafico 3D ed uno 2D. Tali grafici sono stati realizzati per permettere di comprendere al meglio i risultati 
ottenuti dagli esperimenti e di notare facilmente qual'è l'andamento del tempo di risoluzione delle istanze rispetto ai valori assunti dai 
parametri di generazione \textit{n} e \textit{d}.
\begin{figure}[h!]
    \centering
    \includegraphics[scale=0.9]{images/resolution_times.eps}
    \caption{Grafico 3D dei tempi medi di risoluzione delle istanze Tai*c testate}
    \label{fig:times}
\end{figure}
\begin{figure}[h!]
    \centering
    \includegraphics[scale=0.59]{images/resolution_times2.eps}
    \caption{Grafico 2D dei tempi medi di risoluzione delle istanze Tai*c testate}
    \label{fig:times2}
\end{figure}

Come si evince dai grafici, il comportamento assunto dei tempi di risoluzione rispetto alla dimensione dell'istanza è generalmente 
esponenziale, indipendentemente dal valore di densità di grigio considerato. Ciò che muta da una curva dei tempi rispetto all'altra è la 
velocità con cui i valori divergono. Nello specifico si nota come la crescita dei tempi per le densità intermedie $40\%$, $60\%$ e $70\%$ 
è maggiore rispetto a quella per $d=50\%$, che a sua volta è notevolmente maggiore rispetto a quella per le densità $10\%$ e $90\%$.

È possibile dunque affermare che a parità di dimensione \textit{n}, le istanze Tai*c che richiedono un maggior tempo 
di risoluzione sono quelle generate da un valore di densità di grigio \textit{d} prossimo, ma non corrispondente, al $50\%$, mentre quelle 
che ne richiedono meno sono quelle generate da valori di \textit{d} prossimi allo $0\%$ o al $100\%$.

Questo risultato corrisponde con quello ipotizzabile limitandosi ad osservare la teoria. Infatti, per densità prossime allo $0\%$ il numero 
di unità da assegnare alle posizioni è ridotto ed invece per densità prossime al $100\%$, il numero di posizioni in cui non deve essere assegnata un'unità 
è esiguo. Per questo motivo si suppone che in ambo i casi il costo computazionale richiesto per trovare la soluzione ottima sia ridotto. 
Diversamente accade per densità vicine al $50\%$, valore per il quale il numero di posizioni essegnate ad un'unità è simile a quello delle 
posizioni libere. È pertanto comprensibile che si abbia il picco di complessità per tali valori.

La dimensione $45\,(9\times 5)$ è stata l'ultima per la quale è stato possibile ricavare, al \textit{time limit} di due ore, un tempo di risoluzione medio per 
ogni valore di densità di grigio. Difatti, per le istanze di dimensione $49\,(7\times 7)$ sono stati ottenuti i seguenti dati:

\begin{tabular}{cc c|c|c|c|c| l}
    & & \multicolumn{5}{ c }{Densità di grigio \textit{d}} \\ \cline{3-7}
    & & \multicolumn{1}{ |c| }{10\%} & 20\% & 30\% & 40\% & 50\% &  \\ \cline{2-7}
    \multicolumn{1}{  c  }{\multirow{1}{*}{\textit{n}}}  &
    \multicolumn{1}{ |c| }{49 (7x7)} & \hphantom{n}1.2\textit{s}\hphantom{n} & \hphantom{n}43.6\textit{s}\hphantom{n} & \hphantom{n}3110.2\textit{s}\hphantom{n} & \hphantom{n}12.04\%\hphantom{n} & \hphantom{n}1.17\%\hphantom{n} \\ \cline{2-7}
\end{tabular}

\begin{tabular}{cc c|c|c|c| l}
    & & \multicolumn{4}{ c }{Densità di grigio \textit{d}} \\ \cline{3-6}
    & & \multicolumn{1}{ |c| }{60\%} & 70\% & 80\% & 90\% & \\ \cline{2-6}
    \multicolumn{1}{  c  }{\multirow{1}{*}{\textit{n}}}  &
    \multicolumn{1}{ |c| }{49 (7x7)} & \hphantom{mi}6.39\%\hphantom{mi} & \hphantom{mi}3.02\%\hphantom{mi} & \hphantom{mii}1044.4\textit{s}\hphantom{mii} & \hphantom{mi}8.4\textit{s}\hphantom{mi} \\ \cline{2-6}
    \medskip
\end{tabular}

In queste tabelle compaiono dati di tipologia diversa. Dato un valore di densità \textit{d}, se nella relativa cella compare un tempo, esso corrisponde al tempo medio di risoluzione per \textit{d}, mentre se 
compare una percentuale significa che in tal caso non è stato possibile calcolare il tempo cercato e pertanto il dato corrisponde all'\textit{optimality gap} al \textit{time limit}.


\newpage
\section{Soluzioni trovate}
Come anticipato alla fine del capitolo precedente, è stato realizzato un programma per visualizzare le soluzioni ottime alle istanze trovate. 
I grafici realizzati fanno riferimento alla griglia di generazione dei parametri di distanza. In essi ogni casella rappresenta una posizione e per ognuna di esse 
è stato indicato il relativo indice ed è stato assegnato un colore: nero se vi è stata posizionata un'unità, bianco altrimenti.

\noindent
Vengono qui di seguito riportati i grafici relativi ad alcune delle soluzioni trovate. \\ \\

\begin{figure}[h!]
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai9c_3x3_20.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai9c_3x3_40.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai9c_3x3_60.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai9c a densità 20\%, 40\% e 60\%}
     \vspace*{1.5cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai16c_4x4_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai16c_4x4_50.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai16c_4x4_80.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai16c a densità 30\%, 50\% e 80\%}
     \vspace*{1.5cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai25c_5x5_10.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai25c_5x5_40.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai25c_5x5_90.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai25c a densità 10\%, 40\% e 90\%}
\end{figure}

\newpage
\begin{figure}[h!]
    \vspace*{1cm}
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai36c_6x6_20.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai36c_6x6_40.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai36c_6x6_70.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai36c a densità 20\%, 40\% e 70\%}
     \vspace*{1cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai42c_7x6_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai42c_7x6_60.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai42c_7x6_80.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai42c a densità 30\%, 60\% e 80\%}
     \vspace*{1cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai45c_9x5_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai45c_9x5_50.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai45c_9x5_70.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai45c a densità 30\%, 50\% e 70\%}
     \vspace*{1cm}
     \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai49c_7x7_10.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai49c_7x7_30.eps}
        \end{subfigure}
        \hspace{3em}
        \begin{subfigure}[b]{0.20\textwidth}
            \includegraphics[width=\columnwidth]{images/Tai49c_7x7_80.eps}
        \end{subfigure}
     \end{subfigure}
     \caption{Soluzioni delle istanze Tai49c a densità 10\%, 30\% e 80\%}
\end{figure}


\newpage \noindent
I grafici ottenuti rispettano la teoria esposta nelle sezione relativa alle istanze Tai*c. Infatti, in ogni griglia le caselle 
nere sono uniformemente distribuite. Questo ci permette allora di testare la validità del metodo di generazione di tonalità di 
grigio alla densità desiderata. È possibile effettuare ciò accostando molte delle griglie associate alla stessa soluzione di istanza tra di loro, 
ottenendo una griglia molto più grande e fitta. Chiaramente, maggiore é il numero di griglie utilizzate, migliore è la definizione 
della immagine grigia risultante.
\begin{figure}[h!]
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.7\textwidth}
            \includegraphics[width=\columnwidth]{images/gray_42_20.png}
            \caption{a sinistra la griglia relativa ad una soluzione ottima di un'istanza \textit{Tai42c} a densità $d=20\%$, 
                \newline a destra quella ottenuta accostando $1600$ griglie del tipo a sinistra}
        \end{subfigure}
    \end{subfigure}
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.7\textwidth}
            \includegraphics[width=\columnwidth]{images/gray_36_40.png}
            \caption{a sinistra la griglia relativa ad una soluzione ottima di un'istanza \textit{Tai36c} a densità $d=40\%$, 
                \newline a destra quella ottenuta accostando $1600$ griglie del tipo a sinistra}
        \end{subfigure}
    \end{subfigure}
    \centering
    \begin{subfigure}[b]{\textwidth}
        \centering
        \begin{subfigure}[b]{0.7\textwidth}
            \includegraphics[width=\columnwidth]{images/gray_25_80.png}
            \caption{a sinistra la griglia relativa ad una soluzione ottima di un'istanza \textit{Tai25c} a densità $d=80\%$, 
                \newline a destra quella ottenuta accostando $1600$ griglie del tipo a sinistra}
        \end{subfigure}
    \end{subfigure}
\end{figure}

\noindent
Come si può osservare, le tonalità di grigio desiderate vengono generate correttamente.